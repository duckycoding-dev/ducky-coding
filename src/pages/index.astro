---
import HolyGrailLayout from '@layouts/HolyGrailLayout/HolyGrailLayout.astro';
import Card from '@components/Card/Card.astro';
import Button from '@components/Button/Button.astro';
import { Image } from 'astro:assets';
import headshotDavide from '@assets/images/head-shot-davide.jpg';
import DuckIcon from '../components/Icons/DuckIcon/DuckIcon.astro';
import { IMAGE_DENSITIES } from '../utils/globals';
import Link from '../components/Link/Link.astro';
import type { ComponentProps } from 'astro/types';
import TimelineCard from '../components/Card/TimelineCard.astro';
import '@styles/markdown.css';

const timelineObjects: ComponentProps<typeof TimelineCard>[] = [
  {
    roleTitle: 'Fullstack web developer',
    period: '2023 - Present',
    logo: 'ğŸ„â€â™‚ï¸',
    place: 'Wavelop',
    link: 'https://wavelop.com/en',
    children: `
    <p class='text-secondary'>
      As a Junior fullstack developer, I worked on multiple web applications for one of our clients, including:</p>
      <ul>
      <li>B2B web applications</li>
      <li>An IoT client web app</li>
      <li>A corporate site</li>
      </ul>

<p>In my role, Iâ€™ve covered a variety of tasks, including:</p>
<ul>
<li>Fixing bugs and improving existing features</li>
<li>Analyzing client requests and planning implementations</li>
<li>Developing new features based on client requirements</li>
<li>Writing unit tests to ensure code reliability</li>
<li>Reviewing merge requests and collaborating with teammates</li>
<li>Managing manual deployments in DEV and PROD environments</li>
<li>Communicating with clients when needed</li>
</ul>

<p>I've worked with monorepos, using mostly:</p>
<ul>
<li>Frontend: React âš›ï¸, Next.js, Styled Components, Redux</li>
<li>Backend: Node.js with a controller-service-repository architecture, MySQL ğŸ›¢ï¸, Jest for testing</li>
<li>Tools: TypeScript, Git</li>
</ul>
<p>I also laid the foundation for the companyâ€™s latest website using Next.js, Tailwind, and Strapi ğŸ—ï¸ <br/>Throughout my work, Iâ€™ve used TypeScript extensively on both the frontend and backend.</p>`,
  },
  {
    roleTitle: 'Fullstack web developer - internship',
    logo: 'ğŸ„â€â™‚ï¸',
    period: 2023,
    place: 'Wavelop',
    link: 'https://wavelop.com/en',
    children:
      "Internship as a fullstack web developer required by my university course in order to graduate. I've gained first hand experience in web development, working on a real project. This has been my first real job experience in the field, and I have had the chance to try out many different technologies and tools, such as React, TypeScript, Node.js and more.",
  },
  {
    roleTitle: 'Bachelor degree in Computer Science',
    logo: 'ğŸ“š',
    period: '2019 - 2023',
    place: 'University of Padua',
    link: 'https://informatica.math.unipd.it/en/bachelor/',
    children:
      "During my Bachelor's degree in Computer Science at the University of Padua, I gained a solid foundation in programming, algorithms, data structures, and software engineering. I explored topics such as web development, databases, computer networks, and mathematics, and worked on a few group projects that strengthened my problem-solving and teamwork skills.",
  },
];

const frontendTechnologies = [
  'HTML',
  'Modern CSS',
  'JavaScript',
  'TypeScript',
  'Astro',
  'Tailwind CSS',
  'React',
  'Hooks',
  'Context API',
  'Redux',
  'Next.js',
  'Styled Components',
];

const backendAndToolsTechnologies = [
  'Node.js',
  'Hono',
  'SQL',
  'Drizzle ORM',
  'AWS Lambda',
  'Zod',
  'TypeScript',
  'ES6+ JavaScript',
  'Clean code',
];
---

<HolyGrailLayout
  seoProps={{
    title: 'About Me - DuckyCoding',
    description:
      'Learn more about the developer behind DuckyCoding - a passionate web developer crafting modern digital experiences.',
    extend: {
      meta: [
        {
          name: 'keywords',
          content:
            'DuckyCoding, about, developer, web development, portfolio, bio',
        },
      ],
    },
  }}
>
  <!-- Hero Section -->
  <section class='mb-8 md:mb-12'>
    <div
      class='grid grid-cols-1 gap-8 sm:grid-cols-[repeat(auto-fit,minmax(300px,1fr))] md:grid-cols-[1fr_auto]'
    >
      <div>
        <h1
          class='text-secondary mb-6 text-3xl leading-tight font-black md:text-4xl lg:text-6xl'
        >
          Hi, I'm <span class='text-accent-700 wrap-break-word sm:wrap-normal'
            >DuckyCoding</span
          >
        </h1>
        <p class='text-secondary text-lg leading-relaxed md:text-xl'>
          <span
            >I'm Davide, a passionate web developer from Italy ğŸ‡®ğŸ‡¹ who loves
            building modern, user-friendly digital experiences.</span
          >
          <br />
          <span
            >Whether you're here to learn more about my journey, read some
            articles, explore my projects, or are just passing by, I'm glad you
            are here! ğŸ˜ƒ</span
          >
        </p>
      </div>
      <div class='aspect-square md:h-80 lg:h-96'>
        <Card class='flex h-full w-full items-baseline md:items-baseline'>
          <Image
            densities={IMAGE_DENSITIES}
            loading={'eager'}
            src={headshotDavide}
            alt='Davide - DuckyCoding'
            class='h-fit'
          />
        </Card>
      </div>
    </div>
  </section>

  <!-- About Cards Grid -->
  <section class='mb-16'>
    <h2 class='text-secondary mb-8 text-center text-3xl font-black md:text-4xl'>
      What I do
    </h2>
    <div class='grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3'>
      <Card class='bg-accent2-100 p-6'>
        <div
          class='bg-danger mb-4 flex h-16 w-16 items-center justify-center rounded-lg'
        >
          <span class='text-3xl font-bold text-white'>ğŸ¨</span>
        </div>
        <h3 class='text-secondary mb-3 text-xl font-bold'>
          Frontend Development
        </h3>
        <p class='text-secondary'>
          I enjoy crafting beautiful, responsive user interfaces that provide a
          seamless experience across devices.
          <br />
          Writing clean, maintainable code is my priority (...and I love using CSS!)
        </p>
      </Card>

      <Card class='bg-accent3-100 p-6'>
        <div
          class='bg-danger mb-4 flex h-16 w-16 items-center justify-center rounded-lg'
        >
          <span class='text-3xl font-bold text-white'>âš™ï¸</span>
        </div>
        <h3 class='text-secondary mb-3 text-xl font-bold'>
          Backend Development
        </h3>
        <p class='text-secondary'>
          I always strive to build robust and 100% typesafe backend systems that
          power the applications I create.
          <br />
          I enjoy working with Node.js, TypeScript and modern libraries.
        </p>
      </Card>

      <Card class='bg-accent-100 p-6 md:col-span-2 lg:col-span-1'>
        <div
          class='bg-danger mb-4 flex h-16 w-16 items-center justify-center rounded-lg'
        >
          <span class='text-3xl font-bold text-white'>ğŸš€</span>
        </div>
        <h3 class='text-secondary mb-3 text-xl font-bold'>
          Full Stack Solutions
        </h3>
        <p class='text-secondary'>
          Be it frontend or backend, I love building full stack applications
          that deliver a complete user experience, from start to finish.
        </p>
      </Card>
    </div>
  </section>

  <!-- Skills Section -->
  <section class='mb-16'>
    <h2 class='text-secondary mb-8 text-center text-3xl font-black md:text-4xl'>
      <span class='text-accent-700'>Skills</span> & Technologies
    </h2>
    <div class='grid grid-cols-1 gap-8 lg:grid-cols-2'>
      <Card class='p-6'>
        <h3 class='text-secondary mb-6 text-2xl font-bold'>Frontend</h3>
        <div class='grid grid-cols-2 gap-4 sm:grid-cols-3'>
          {
            frontendTechnologies.map((skill) => (
              <p class='bg-accent text-secondary hover:bg-accent-700 border-comic border-secondary place-content-center rounded-lg px-3 py-2 text-center font-semibold transition-colors'>
                {skill}
              </p>
            ))
          }
        </div>
      </Card>

      <Card class='p-6'>
        <h3 class='text-secondary mb-6 text-2xl font-bold'>Backend & Tools</h3>
        <div class='grid grid-cols-2 gap-4 sm:grid-cols-3'>
          {
            backendAndToolsTechnologies.map((skill) => (
              <p class='bg-accent2 text-secondary hover:bg-accent2-700 border-comic border-secondary place-content-center rounded-lg px-3 py-2 text-center font-semibold transition-colors'>
                {skill}
              </p>
            ))
          }
        </div>
      </Card>
    </div>
  </section>

  <!-- Experience Timeline -->
  <section class='mb-16'>
    <h2 class='text-secondary mb-8 text-center text-3xl font-black md:text-4xl'>
      My <span class='text-accent-700'>Journey</span> so Far
    </h2>
    <div class='space-y-8'>
      {
        timelineObjects.map((item) => (
          <TimelineCard
            logo={item.logo}
            class='block'
            roleTitle={item.roleTitle}
            period={item.period}
            place={item.place}
            link={item.link}
          >
            {typeof item.children === 'string' ? (
              item.children.trim().startsWith('<') &&
              item.children.trim().endsWith('>') ? (
                // If children is HTML, render it as HTML
                <div
                  class='markdown-content'
                  set:html={item.children}
                  class='text-secondary'
                />
              ) : (
                <p class='text-secondary'>{item.children}</p>
              )
            ) : (
              item.children
            )}
          </TimelineCard>
        ))
      }
    </div>
  </section>

  <!-- Fun Facts -->
  <section id='fun-facts' class='mb-16'>
    <h2 class='text-secondary mb-8 text-center text-3xl font-black md:text-4xl'>
      <span class='text-accent-700'>Fun facts</span> about me
    </h2>
    <div class='grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4'>
      <Card class='bg-accent3-100 p-6 text-center hover:rotate-2'>
        <div
          class='bg-danger mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full'
        >
          <span class='text-2xl text-white'>ğŸ‘¨â€ğŸŒ¾</span>
        </div>
        <h3 class='text-secondary mb-2 text-lg font-bold'>Gardener</h3>
        <p class='text-secondary text-sm'>Hot peppers enjoyer</p>
      </Card>

      <Card class='bg-accent2-100 p-6 text-center hover:rotate-2'>
        <div
          class='bg-danger mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full'
        >
          <span class='text-2xl text-white'>ğŸ®</span>
        </div>
        <h3 class='text-secondary mb-2 text-lg font-bold'>Gamer</h3>
        <p class='text-secondary text-sm'>Since I was a little kid</p>
      </Card>

      <Card class='bg-accent-100 p-6 text-center hover:rotate-2'>
        <div
          class='bg-danger mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full'
        >
          <span class='text-2xl text-white'>ğŸ“š</span>
        </div>
        <h3 class='text-secondary mb-2 text-lg font-bold'>Learner</h3>
        <p class='text-secondary text-sm'>Always exploring new tech</p>
      </Card>

      <Card class='bg-primary-200 p-6 text-center hover:rotate-2'>
        <div
          class='bg-danger mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full'
        >
          <span class='text-2xl text-white'>ğŸ¦†</span>
        </div>
        <h3 class='text-secondary mb-2 text-lg font-bold'>Duck lover</h3>
        <p class='text-secondary text-sm'>Quack quack quack</p>
      </Card>
    </div>
  </section>

  <!-- Get In Touch Section -->

  <!-- CTA Section -->
  <section class='mb-16 text-center'>
    <Card class='from-accent2-100 to-accent3-100 bg-gradient-to-br p-8 md:p-12'>
      <h2 class='text-secondary mb-6 text-3xl font-black md:text-4xl'>
        Let's work <span class='text-accent-700'>together!</span>
      </h2>
      <p class='text-secondary mx-auto mb-8 max-w-2xl text-lg md:text-xl'>
        Ready to bring your ideas to life?
        <br />
        Check out my work and see if I'm a good fit for you and your team!
      </p>
      <div class='flex flex-wrap justify-center gap-4'>
        <Link
          href='/my-projects'
          variant='contained'
          size='large'
          class='px-8 py-4 text-xl text-balance sm:text-3xl'
        >
          View my projects ğŸš€
        </Link>
      </div>
    </Card>
  </section>

  <!-- Contact Form Section -->
  {
    /*<section id='contact'>
    <!-- Contact Form -->
    <Card class='p-6 md:p-8'>
      <h2
        class='text-secondary mb-6 text-center text-3xl font-black md:text-4xl'
      >
        Send me a message
      </h2>
      <form class='space-y-6' action='#' method='POST'>
        <div>
          <label for='name' class='text-secondary mb-2 block font-semibold'>
            Name
          </label>
          <input
            type='text'
            id='name'
            name='name'
            required
            class='text-secondary-900 bg-primary-100 border-comic border-secondary focus:ring-accent w-full rounded-lg px-4 py-3 focus:ring-2 focus:outline-none'
            placeholder={'Your Name'}
          />
        </div>

        <div>
          <label for='email' class='text-secondary mb-2 block font-semibold'>
            Email
          </label>
          <input
            type='email'
            id='email'
            name='email'
            required
            class='text-secondary-900 bg-primary-100 border-comic border-secondary focus:ring-accent w-full rounded-lg px-4 py-3 focus:ring-2 focus:outline-none'
            placeholder={'your.email@example.com'}
          />
        </div>

        <div>
          <label for='subject' class='text-secondary mb-2 block font-semibold'>
            Subject
          </label>
          <input
            type='text'
            id='subject'
            name='subject'
            required
            class='text-secondary-900 bg-primary-100 border-comic border-secondary focus:ring-accent w-full rounded-lg px-4 py-3 focus:ring-2 focus:outline-none'
            placeholder={"What's this about?"}
          />
        </div>

        <div>
          <label for='message' class='text-secondary mb-2 block font-semibold'>
            Message
          </label>
          <textarea
            id='message'
            name='message'
            rows='5'
            required
            class='text-secondary-900 bg-primary-100 border-comic border-secondary focus:ring-accent w-full rounded-lg px-4 py-3 focus:ring-2 focus:outline-none'
            placeholder={'Tell me about your project or just say hi!'}
          ></textarea>
        </div>

        <Button
          type='submit'
          variant='contained'
          size='large'
          class='flex w-full items-center justify-center gap-4 px-8 py-4 text-xl sm:text-3xl'
        >
          <DuckIcon class='hidden h-8 w-8 sm:inline-block' />Send message<DuckIcon
            class='hidden h-8 w-8 sm:inline-block'
          />
        </Button>
      </form>
    </Card>
  </section>*/
  }
</HolyGrailLayout>

<style>
  /* Custom animations for enhanced interactivity */
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  /* Add floating animation to fun facts cards on larger screens */
  @media (min-width: 768px) {
    #fun-facts > div > :nth-child(1) {
      animation: float 3s ease-in-out infinite;
      animation-delay: 0s;
    }
    #fun-facts > div > :nth-child(2) {
      animation: float 3s ease-in-out infinite;
      animation-delay: 0.5s;
    }
    #fun-facts > div > :nth-child(3) {
      animation: float 3s ease-in-out infinite;
      animation-delay: 1s;
    }
    #fun-facts > div > :nth-child(4) {
      animation: float 3s ease-in-out infinite;
      animation-delay: 1.5s;
    }
  }

  @media (prefers-reduced-motion) {
    #fun-facts > div > :nth-child(n) {
      animation: none;
    }
  }
</style>
